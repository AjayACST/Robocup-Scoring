version: "3.8"
services:
    pgadmin:
        ports:
            - "5050:5050"

    backend:
        ports:
            - "8888:8888"
            - "80:80"
        volumes:
            - ./backend/app:/app
        environment:
            - JUPYTER=jupyter lab --ip=0.0.0.0 --allow-root --NotebookApp.custom_display_url=http://127.0.0.1:8888
            - SERVER_HOST=http://${DOMAIN?Variable not set}
        build:
            context: ./backend
            dockerfile: backend.dockerfile
            args:
                INSTALL_DEV: ${INSTALL_DEV-true}
                INSTALL_JUPYTER: ${INSTALL_JUPYTER-true}
